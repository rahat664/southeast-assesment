<div class="flex flex-col gap-6 p-4 md:p-8 bg-gray-50 dark:bg-gray-900 min-h-screen">
  <!-- Task Form Panel -->
  <div class="bg-white dark:bg-gray-800 shadow-md rounded-2xl p-6">
    <app-task-form
      (submitTask)="onTaskSubmit($event)"
      [editingTask]="editingTask"
    ></app-task-form>
  </div>

  <!-- Filter & Search Panel -->
  <div class="bg-white dark:bg-gray-800 shadow-md rounded-2xl p-6 flex flex-col md:flex-row gap-4 justify-between items-center w-full">
    <div class="flex flex-col md:space-x-2 md:flex-row gap-4 items-center w-full md:w-auto">
      <!-- Status Filter -->
      <select
        [(ngModel)]="filter.status"
        (change)="applyFilters()"
        class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-sm text-gray-800 dark:text-white"
      >
        <option value="">All Statuses</option>
        <option value="To Do">To Do</option>
        <option value="In Progress">In Progress</option>
        <option value="Completed">Completed</option>
      </select>

      <!-- Priority Filter -->
      <select
        [(ngModel)]="filter.priority"
        (change)="applyFilters()"
        class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-sm text-gray-800 dark:text-white"
      >
        <option value="">All Priorities</option>
        <option value="High">High</option>
        <option value="Medium">Medium</option>
        <option value="Low">Low</option>
      </select>

      <!-- Search Input -->
      <input
        type="text"
        [(ngModel)]="filter.search"
        (input)="applyFilters()"
        placeholder="Search by title or description"
        class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-sm text-gray-800 dark:text-white w-full md:w-64"
      />
    </div>

    <!-- CSV Export Button -->
    <button
      (click)="exportToCSV()"
      class="px-4 py-2 text-sm rounded-lg bg-blue-600 text-white hover:bg-blue-700"
    >
      Export CSV
    </button>
  </div>

  <!-- Task Table -->
  <div class="bg-white dark:bg-gray-800 shadow-md rounded-2xl p-6">
    <app-task-table
      [tasks]="filteredTasks"
      (edit)="onEdit($event)"
      (delete)="onDelete($event)"
    ></app-task-table>
  </div>
</div>
